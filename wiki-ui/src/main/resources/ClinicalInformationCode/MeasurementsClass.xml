<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
  <web>ClinicalInformationCode</web>
  <name>MeasurementsClass</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <parent>XWiki.XWikiClasses</parent>
  <creator>xwiki:XWiki.Admin</creator>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <creationDate>1329689993000</creationDate>
  <date>1331745792000</date>
  <contentUpdateDate>1331745792000</contentUpdateDate>
  <version>1.1</version>
  <title/>
  <template/>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>false</hidden>
  <class>
    <name>ClinicalInformationCode.MeasurementsClass</name>
    <customClass/>
    <customMapping/>
    <defaultViewSheet/>
    <defaultEditSheet/>
    <defaultWeb/>
    <nameField/>
    <validationScript/>
    <age>
      <customDisplay>{{velocity}}
#if ("$!value" == '')
  #set ($dValue = '-')
#else
  #set ($dValue = '')
  #if ($value &gt;= 0)
    #set ($y = $mathtool.idiv($value, 12))
    #set ($m = $mathtool.mod($value, 12))
  #end
  #if ($y &gt; 0)
    #set ($dValue = "${y}y")
  #end
  #if ($m &gt; 0)
    #set ($dValue = "$!dValue ${m}m")
  #end
#end
{{html wiki=false clean=false}}
#if ($xcontext.action == 'edit')&lt;input type="hidden" name="$prefix$name" value="$!value"/&gt;#end
&lt;div class="$name displayed-value"&gt;$dValue.trim()&lt;/div&gt;
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <name>age</name>
      <number>2</number>
      <numberType>integer</numberType>
      <prettyName>Age</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </age>
    <bmi>
      <customDisplay>{{velocity}}
#if ($xcontext.action != 'edit' || $request.editor != 'object')
  #set ($dValue = "$!{value}")
  #if ($dValue == '')
    #set ($dValue = '-')
  #end
  {{html wiki=false clean=false}}
  #if ($xcontext.action == 'edit')&lt;input type="hidden" name="$prefix$name" value="$!value"/&gt;#end
  &lt;div class="$name displayed-value"&gt;$dValue&lt;/div&gt;
  {{/html}}
#else{
  {{html wiki=false clean=false}}&lt;input type="text" id="$prefix$name" name="$prefix$name" value="$!value"/&gt;{{/html}}
#end
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <name>bmi</name>
      <number>7</number>
      <numberType>float</numberType>
      <prettyName>BMI</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </bmi>
    <bmi_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>bmi_evaluation</name>
      <number>8</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($wValue = $object.getProperty('weight').value)
#set ($hValue = $object.getProperty('height').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!wValue" == '' || "$!hValue" == '' || "$!wValue" == '0' || "$!hValue" == '0')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getBMIPercentile($male, $age, $wValue, $hValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getBMIStandardDeviation($male, $age, $wValue, $hValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </bmi_evaluation>
    <date>
      <customDisplay>{{velocity}}{{html wiki=false clean=false}}
#set ($definedFormat = "$!object.xWikiClass.get($name).getProperty('dateFormat').value")
#if ($xcontext.action == 'edit')
&lt;input type="text" id="$prefix$name" title="$!definedFormat" name="$prefix$name" value="$!xwiki.formatDate($value, $definedFormat)" class="xwiki-date" alt="#formatdateISO($value)"/&gt;
#else
&lt;span class="date"&gt;$!xwiki.formatDate($!value, $definedFormat)&lt;/span&gt;
#end
{{/html}}{{/velocity}}</customDisplay>
      <dateFormat>MM/dd/yyyy</dateFormat>
      <disabled>0</disabled>
      <emptyIsToday>1</emptyIsToday>
      <name>date</name>
      <number>1</number>
      <picker>1</picker>
      <prettyName>Date</prettyName>
      <size>20</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.DateClass</classType>
    </date>
    <ear>
      <customDisplay/>
      <disabled>0</disabled>
      <name>ear</name>
      <number>19</number>
      <numberType>float</numberType>
      <prettyName>Ear length (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </ear>
    <ear_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>ear_evaluation</name>
      <number>20</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('ear').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getEarLengthPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getEarLengthStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </ear_evaluation>
    <foot>
      <customDisplay/>
      <disabled>0</disabled>
      <name>foot</name>
      <number>25</number>
      <numberType>float</numberType>
      <prettyName>Foot length (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </foot>
    <foot_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>foot_evaluation</name>
      <number>28</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('foot').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getFootLengthPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getFootLengthStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </foot_evaluation>
    <hand>
      <customDisplay/>
      <disabled>0</disabled>
      <name>hand</name>
      <number>21</number>
      <numberType>float</numberType>
      <prettyName>Hand length (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </hand>
    <hand_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>hand_evaluation</name>
      <number>22</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('hand').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getHandLengthPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getHandLengthStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </hand_evaluation>
    <hc_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>hc_evaluation</name>
      <number>10</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('head_circumference').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getHCPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getHCStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </hc_evaluation>
    <head_circumference>
      <customDisplay/>
      <disabled>0</disabled>
      <name>head_circumference</name>
      <number>9</number>
      <numberType>float</numberType>
      <prettyName>Head circ. (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </head_circumference>
    <height>
      <customDisplay/>
      <disabled>0</disabled>
      <name>height</name>
      <number>5</number>
      <numberType>float</numberType>
      <prettyName>Height (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </height>
    <height_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>height_evaluation</name>
      <number>6</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('height').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getHeightPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getHeightStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </height_evaluation>
    <icd>
      <customDisplay/>
      <disabled>0</disabled>
      <name>icd</name>
      <number>13</number>
      <numberType>float</numberType>
      <prettyName>Inner canthal distance (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </icd>
    <icd_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>icd_evaluation</name>
      <number>14</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('icd').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getInnerCanthalDistancePercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getInnerCanthalDistanceStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </icd_evaluation>
    <ipd>
      <customDisplay/>
      <disabled>0</disabled>
      <name>ipd</name>
      <number>17</number>
      <numberType>float</numberType>
      <prettyName>Interpupilary distance (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </ipd>
    <ipd_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>ipd_evaluation</name>
      <number>18</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('ipd').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getInterpupilaryDistancePercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getInterpupilaryDistanceStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </ipd_evaluation>
    <ocd>
      <customDisplay/>
      <disabled>0</disabled>
      <name>ocd</name>
      <number>11</number>
      <numberType>float</numberType>
      <prettyName>Outer canthal distance (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </ocd>
    <ocd_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>ocd_evaluation</name>
      <number>12</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('ocd').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getOuterCanthalDistancePercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getOuterCanthalDistanceStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </ocd_evaluation>
    <palm>
      <customDisplay/>
      <disabled>0</disabled>
      <name>palm</name>
      <number>23</number>
      <numberType>float</numberType>
      <prettyName>Palm length (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </palm>
    <palm_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>palm_evaluation</name>
      <number>24</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('palm').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getPalmLengthPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getPalmLengthStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </palm_evaluation>
    <pfl>
      <customDisplay/>
      <disabled>0</disabled>
      <name>pfl</name>
      <number>15</number>
      <numberType>float</numberType>
      <prettyName>Palpebral fissure length (cm)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </pfl>
    <pfl_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>pfl_evaluation</name>
      <number>16</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('pfl').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getPalpebralFissureLengthPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getPalpebralFissureLengthStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </pfl_evaluation>
    <weight>
      <customDisplay/>
      <disabled>0</disabled>
      <name>weight</name>
      <number>3</number>
      <numberType>float</numberType>
      <prettyName>Weight (kg)</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </weight>
    <weight_evaluation>
      <customDisplay/>
      <disabled>0</disabled>
      <name>weight_evaluation</name>
      <number>4</number>
      <prettyName>Evaluation</prettyName>
      <script>{{velocity}}
#set ($dValue = $object.getProperty('weight').value)
#set ($age = $object.getProperty('age').value)
#set ($male = $doc.getObject('ClinicalInformationCode.PatientClass').getProperty('gender').value != 'F')
#if ("$!dValue" == '')
  #set ($dValue = '-')
#else
  #set ($pValue = $services.percentile.getWeightPercentile($male, $age, $dValue))
  #set ($sdValue = $mathtool.roundTo(2, $services.percentile.getWeightStandardDeviation($male, $age, $dValue)))
  #set ($dValue = "${pValue}#if($pValue%10==1)^^st^^#elseif($pValue%10==2)^^nd^^#elseif($pValue%10==3)^^rd^^#{else}^^th^^#end pctl (#if ($sdValue &gt;= 0)+#end${sdValue}SD~)")
#end
(% class="${name} displayed-value $!{services.percentile.getFuzzyValue($!sdValue)}" %)(((${dValue})))
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </weight_evaluation>
  </class>
  <content/>
</xwikidoc>
